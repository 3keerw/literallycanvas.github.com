<div class="literally backgrounds"><canvas></canvas></div>

<script>
  $(document).ready(function() {
    var backgroundImage = new Image()
    backgroundImage.src = '/_static/sample_image.png';

    $('.literally.backgrounds').literallycanvas({
      backgroundColor: 'whiteSmoke',
      imageURLPrefix: '/_static/lib/img',
      backgroundShapes: [
        new LC.ImageShape(0, 0, backgroundImage),
        new LC.TextShape(300, 100, "I am in the background", 'blue')
      ],
      onInit: function(lc) {
        var localStorageKey = 'drawing-with-background'
        if (localStorage.getItem(localStorageKey)) {
          lc.loadSnapshotJSON(localStorage.getItem(localStorageKey));
        }
        lc.on('drawingChange', function() {
          localStorage.setItem(localStorageKey, lc.getSnapshotJSON());
        });
      }
    });
  });
</script>
