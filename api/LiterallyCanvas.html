<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The LiterallyCanvas object &mdash; Literally Canvas v0.4.6 docs - JS/Canvas drawing board - MS Paint in your web browser</title>
    
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.4.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Literally Canvas v0.4.6 docs - JS/Canvas drawing board - MS Paint in your web browser" href="../index.html" />
    <link rel="up" title="API" href="index.html" />
    <link rel="next" title="Events" href="events.html" />
    <link rel="prev" title="Initializing &amp; Options" href="initializing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Finger+Paint" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
      <link rel="stylesheet" href="../_static/lib/css/literallycanvas.css" type="text/css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react-with-addons.js" type="text/javascript"></script>
    <script src="../_static/lib/js/fastclick.js" type="text/javascript"></script>
    <script src="../_static/lib/js/literallycanvas.js" type="text/javascript"></script>
    <script src="../_static/docs.js" type="text/javascript"></script>
  </head>
  <body>
  <header id="pageheader"><h1><a href="../index.html ">
    <span class="title-word-1">Literally</span>
    <span class="title-word-2">&ldquo;Canvas&rdquo;</span>
  </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="initializing.html" title="Previous document">Initializing &amp; Options</a>
        </li>
        <li>
          <a href="events.html" title="Next document">Events</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">API</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-literallycanvas-object">
<h1>The <tt class="docutils literal"><span class="pre">LiterallyCanvas</span></tt> object<a class="headerlink" href="#the-literallycanvas-object" title="Permalink to this headline">¶</a></h1>
<p>Once initialized, Literally Canvas is controlled and accessed through a
<a class="reference internal" href="#LiterallyCanvas" title="LiterallyCanvas"><tt class="xref js js-class docutils literal"><span class="pre">LiterallyCanvas()</span></tt></a> object. See <a class="reference internal" href="initializing.html"><em>Initializing &amp; Options</em></a> for information
about getting a reference to this object.</p>
<dl class="class">
<dt id="LiterallyCanvas">
<em class="property">class </em><tt class="descname">LiterallyCanvas</tt><big>(</big><em>containerElement</em>, <em>options</em><big>)</big><a class="headerlink" href="#LiterallyCanvas" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>containerElement</strong> &#8211; DOM element to put Literally Canvas inside.</li>
<li><strong>options</strong> &#8211; Dictionary of options. See <a class="reference internal" href="initializing.html"><em>Initializing &amp; Options</em></a> for possible
values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="changes-since-v0-3">
<h2>Changes since v0.3<a class="headerlink" href="#changes-since-v0-3" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#LiterallyCanvas" title="LiterallyCanvas"><tt class="xref js js-class docutils literal"><span class="pre">LiterallyCanvas()</span></tt></a> object no longer uses a single canvas to
render. Instead, it keeps multiple canvases inside a container element.</p>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="saving-and-loading">
<h3>Saving and loading<a class="headerlink" href="#saving-and-loading" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="loadSnapshotJSON">
<tt class="descname">loadSnapshotJSON</tt><big>(</big><em>snapshot</em><big>)</big><a class="headerlink" href="#loadSnapshotJSON" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>snapshot</strong> &#8211; a JSON-encoded string</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Load a drawing.</p>
</dd></dl>

<dl class="function">
<dt id="getSnapshotJSON">
<tt class="descname">getSnapshotJSON</tt><big>(</big><big>)</big><a class="headerlink" href="#getSnapshotJSON" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a JSON-encoded string</td>
</tr>
</tbody>
</table>
<p>Get the current drawing as JSON. Consider its output opaque except when used
as an argument to <a class="reference internal" href="#loadSnapshotJSON" title="loadSnapshotJSON"><tt class="xref js js-func docutils literal"><span class="pre">loadSnapshotJSON()</span></tt></a>. You may assume that drawings
saved with an older version of Literally Canvas will work with a newer one.</p>
<p>If you need the serialization format to be public, file an issue on GitHub
and explain your use case.</p>
</dd></dl>

</div>
<div class="section" id="exporting-images">
<h3>Exporting images<a class="headerlink" href="#exporting-images" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="getImage">
<tt class="descname">getImage</tt><big>(</big><em>options</em><big>)</big><a class="headerlink" href="#getImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the complete drawing rendered to a canvas, regardless of what the
view is panned/zoomed to. Available options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">includeWatermark</span></tt></dt>
<dd>If <tt class="docutils literal"><span class="pre">true</span></tt>, render the watermark behind the drawing.</dd>
<dt><tt class="docutils literal"><span class="pre">rect</span></tt></dt>
<dd>A dict <tt class="docutils literal"><span class="pre">{x,</span> <span class="pre">y,</span> <span class="pre">width,</span> <span class="pre">height}</span></tt> specifying which part of the image to
draw, in drawing coordinates (before scaling). Defaults to the bounding
box of all shapes. If you don&#8217;t specify a <tt class="docutils literal"><span class="pre">rect</span></tt> and there are no
shapes in the drawing, <a class="reference internal" href="#getImage" title="getImage"><tt class="xref js js-func docutils literal"><span class="pre">getImage()</span></tt></a> will return <tt class="docutils literal"><span class="pre">undefined</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">scale</span></tt></dt>
<dd>Amount by which to scale the image output. Shapes will be rendered at
full resolution. Defaults to <tt class="docutils literal"><span class="pre">1</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">scaleDownRetina</span></tt></dt>
<dd>If <tt class="docutils literal"><span class="pre">true</span></tt>, compensate for <tt class="docutils literal"><span class="pre">window.devicePixelRatio</span></tt> by adjusting the
scale before rendering. This is probably what you want, since the image
will be the same size as what the user sees on their screen, due to being
scaled back up by the web browser. Defaults to <tt class="docutils literal"><span class="pre">true</span></tt>.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="getSVGString">
<tt class="descname">getSVGString</tt><big>(</big><em>{options}</em><big>)</big><a class="headerlink" href="#getSVGString" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the drawing as an SVG string that can be inserted into the DOM or
downloaded.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The eraser tool does not affect SVG output.</p>
</div>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">rect</span></tt></dt>
<dd>A dict <tt class="docutils literal"><span class="pre">{x,</span> <span class="pre">y,</span> <span class="pre">width,</span> <span class="pre">height}</span></tt> specifying which part of the image to
draw, in drawing coordinates. Defaults to the bounding
box of all shapes. If you don&#8217;t specify a <tt class="docutils literal"><span class="pre">rect</span></tt> and there are no
shapes in the drawing, <a class="reference internal" href="#getSVGString" title="getSVGString"><tt class="xref js js-func docutils literal"><span class="pre">getSVGString()</span></tt></a> will return <tt class="docutils literal"><span class="pre">undefined</span></tt>.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="canvasForExport">
<tt class="descname">canvasForExport</tt><big>(</big><big>)</big><a class="headerlink" href="#canvasForExport" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span>Deprecated since version 0.4: </span>Use <a class="reference internal" href="#getImage" title="getImage"><tt class="xref js js-func docutils literal"><span class="pre">getImage()</span></tt></a> instead.</p>
</div>
<p>Returns a canvas object with the current view.</p>
</dd></dl>

<dl class="function">
<dt id="canvasWithBackground">
<tt class="descname">canvasWithBackground</tt><big>(</big><em>canvasOrImage</em><big>)</big><a class="headerlink" href="#canvasWithBackground" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span>Deprecated since version 0.4: </span>Use <a class="reference internal" href="#getImage" title="getImage"><tt class="xref js js-func docutils literal"><span class="pre">getImage()</span></tt></a> instead.</p>
</div>
<p>Returns a canvas object with the current view composited over a background
image.</p>
</dd></dl>

</div>
<div class="section" id="event-subscription">
<span id="id1"></span><h3>Event subscription<a class="headerlink" href="#event-subscription" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">unsubscribe</span> <span class="o">=</span> <span class="nx">lc</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;drawingChange&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;drawing&#39;</span><span class="p">,</span> <span class="nx">lc</span><span class="p">.</span><span class="nx">getSnapshotJSON</span><span class="p">());</span>
<span class="p">});</span>
<span class="nx">unsubscribe</span><span class="p">();</span>  <span class="c1">// stop listening</span>
</pre></div>
</div>
<dl class="function">
<dt id="on">
<tt class="descname">on</tt><big>(</big><em>event</em>, <em>callback</em><big>)</big><a class="headerlink" href="#on" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a function that unsubscribes from the event</td>
</tr>
</tbody>
</table>
<p>Attach an event handler to <em>event</em>. A common use case is to save the
drawing when it is changed; see <a class="reference internal" href="../examples/localstorage.html#saving-and-loading"><em>Saving to Local Storage</em></a>.</p>
<p>See <a class="reference internal" href="events.html"><em>Events</em></a> for a list of events.</p>
</dd></dl>

</div>
<div class="section" id="controlling-the-view">
<h3>Controlling the view<a class="headerlink" href="#controlling-the-view" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="setPan">
<tt class="descname">setPan</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#setPan" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the view&#8217;s upper left corner to the given position in drawing space.</p>
</dd></dl>

<dl class="function">
<dt id="setZoom">
<tt class="descname">setZoom</tt><big>(</big><em>zoom</em><big>)</big><a class="headerlink" href="#setZoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the view zoom to the given value.</p>
</dd></dl>

<dl class="function">
<dt id="pan">
<tt class="descname">pan</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#pan" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the view by the given amount relative to its current position in drawing
space.</p>
</dd></dl>

<dl class="function">
<dt id="zoom">
<tt class="descname">zoom</tt><big>(</big><em>amount</em><big>)</big><a class="headerlink" href="#zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given amount to the zoom level.</p>
</dd></dl>

<dl class="function">
<dt id="setImageSize">
<tt class="descname">setImageSize</tt><big>(</big><em>width</em>, <em>height</em><big>)</big><a class="headerlink" href="#setImageSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the size of the image away from what was passed to <a class="reference internal" href="initializing.html#LC.init" title="LC.init"><tt class="xref js js-func docutils literal"><span class="pre">LC.init()</span></tt></a>
as <a class="reference internal" href="initializing.html#opt-imagesize"><em>imageSize</em></a>.</p>
</dd></dl>

</div>
<div class="section" id="changing-the-drawing">
<h3>Changing the drawing<a class="headerlink" href="#changing-the-drawing" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="saveShape">
<tt class="descname">saveShape</tt><big>(</big><em>shape</em>, <em>triggerSaveShapeEvent</em>, <em>previousShapeId</em><big>)</big><a class="headerlink" href="#saveShape" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>shape</strong> &#8211; Shape to be added</li>
<li><strong>triggerSaveShapeEvent</strong> &#8211; If <tt class="docutils literal"><span class="pre">true</span></tt>, trigger the <a class="reference internal" href="events.html#event-shapesave"><em>shapeSave</em></a> event.
Defaults to <tt class="docutils literal"><span class="pre">true</span></tt>. You may want to set this to <tt class="docutils literal"><span class="pre">false</span></tt> if you&#8217;re
sending and receiving shapes to/from a remote drawing.</li>
<li><strong>previousShapeId</strong> &#8211; ID of the shape just below the new one. Defaults to the most recently
added shape.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Add a shape to the drawing. If you&#8217;re writing a single-user application,
you should only need to pass the first argument. See <a class="reference internal" href="shapes.html"><em>Shapes</em></a> for more
information.</p>
</dd></dl>

<dl class="function">
<dt id="setColor">
<tt class="descname">setColor</tt><big>(</big><em>colorName</em>, <em>colorValue</em><big>)</big><a class="headerlink" href="#setColor" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>colorName</strong> &#8211; <tt class="docutils literal"><span class="pre">'background'</span></tt>, <tt class="docutils literal"><span class="pre">'primary'</span></tt>, or <tt class="docutils literal"><span class="pre">'secondary'</span></tt></li>
<li><strong>colorValue</strong> &#8211; Any CSS color</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all shapes from the drawing.</p>
</dd></dl>

<dl class="function">
<dt id="undo">
<tt class="descname">undo</tt><big>(</big><big>)</big><a class="headerlink" href="#undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo the last drawing action.</p>
</dd></dl>

<dl class="function">
<dt id="redo">
<tt class="descname">redo</tt><big>(</big><big>)</big><a class="headerlink" href="#redo" title="Permalink to this definition">¶</a></dt>
<dd><p>Redo the last thing to be undone.</p>
</dd></dl>

<dl class="function">
<dt id="setShapesInProgress">
<tt class="descname">setShapesInProgress</tt><big>(</big><em>shapes</em><big>)</big><a class="headerlink" href="#setShapesInProgress" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare a list of shapes that are drawn to the canvas but aren&#8217;t yet part of
the drawing. Tools should use this to show shapes in progress.</p>
</dd></dl>

<dl class="function">
<dt id="drawShapeInProgress">
<tt class="descname">drawShapeInProgress</tt><big>(</big><em>shape</em><big>)</big><a class="headerlink" href="#drawShapeInProgress" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the given shape to a buffer without clearing or redrawing anything
beneath it. If the shape&#8217;s renderer supports it, only render the most
recently changed part of the shape.</p>
<p>This is most useful as an efficient way to draw line paths that the user is
currently drawing.</p>
</dd></dl>

</div>
<div class="section" id="getting-information">
<h3>Getting information<a class="headerlink" href="#getting-information" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="getColor">
<tt class="descname">getColor</tt><big>(</big><em>colorName</em><big>)</big><a class="headerlink" href="#getColor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of the <tt class="docutils literal"><span class="pre">'primary'</span></tt>, <tt class="docutils literal"><span class="pre">'secondary'</span></tt>, or <tt class="docutils literal"><span class="pre">'background'</span></tt>
color.</p>
</dd></dl>

<dl class="function">
<dt id="getPixel">
<tt class="descname">getPixel</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#getPixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the color of the given drawing-space pixel as a CSS color string.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The <tt class="docutils literal"><span class="pre">LiterallyCanvas</span></tt> object</a><ul>
<li><a class="reference internal" href="#changes-since-v0-3">Changes since v0.3</a></li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#saving-and-loading">Saving and loading</a></li>
<li><a class="reference internal" href="#exporting-images">Exporting images</a></li>
<li><a class="reference internal" href="#event-subscription">Event subscription</a></li>
<li><a class="reference internal" href="#controlling-the-view">Controlling the view</a></li>
<li><a class="reference internal" href="#changing-the-drawing">Changing the drawing</a></li>
<li><a class="reference internal" href="#getting-information">Getting information</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>
	<a href="https://github.com/literallycanvas/literallycanvas/archive/v0.4.6.tar.gz">
		Download v0.4.6
	</a>
</p>
<p>
  Send a message to
  <br><a href="mailto:literallycanvas@librelist.com">
    literallycanvas@librelist.com</a><br>
  to join our mailing list.
</p>

<p>
  Help us improve Literally Canvas on
	<a href="http://github.com/literallycanvas/literallycanvas">GitHub</a>.
</p>
<form class="search" action="../search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="initializing.html" title="Previous document">Initializing &amp; Options</a>
        </li>
        <li>
          <a href="events.html" title="Next document">Events</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">API</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2012-2015 Literally Canvas contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.2b3
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36534121-1', 'literallycanvas.com');
      ga('send', 'pageview');
    </script>
  
  </body>
</html>